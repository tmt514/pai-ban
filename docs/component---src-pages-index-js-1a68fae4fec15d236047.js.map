{"version":3,"sources":["webpack:///./src/components/paiban.js","webpack:///./src/pages/index.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/header.js","webpack:///./src/components/layout.js"],"names":["GetColor","idx","DisplayIndex","_ref","c","String","fromCharCode","react_default","a","createElement","Person","_Component","call","this","render","sol","props","stats","statsList","i","length","j","push","key","className","src","style","backgroundColor","textAlign","paiban_DisplayIndex","Component","PeoplePanel","_Component2","seed","N","plist","paiban_Person","DisplayYear","_ref2","year","DisplayMonth","_ref3","month","DisplayDay","_ref4","day","DatePanel","numOfDays","Date","getDay","body","holder","paiban_DisplayDay","tableframe","PaiBan","_this","_Component4","nextMonth","now","getFullYear","getMonth","getDate","state","updateN","Object","assign","parseInt","inputN","value","setState","updateSeed","inputSeed","changeSeed","Math","floor","random","isLoading","setTimeout","buildSolution","bind","k","tmp","rng","MersenneTwister","t","personDayCount","dayPersonMark","choices","blah","bad","pop","slice","random_int","canput","pdc","dpm","today","next","cnt","max","addToPDC","removeFromPDC","timecut","badtimecut","dfs","ret","makeDayPersonVector","msg","undefined","_this2","ref","e","onChange","onClick","paiban_PeoplePanel","peoplePanel","paiban_DisplayYear","paiban_DisplayMonth","paiban_DatePanel","Rules","IndexPage","layout","pages_Rules","paiban","__webpack_require__","r","__webpack_exports__","d","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","React","createContext","Consumer","staticQueryData","data","query","children","Error","propTypes","PropTypes","object","string","isRequired","func","m","module","exports","require","default","ProdPageRenderer","location","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","json","shape","Header","siteTitle","background","marginBottom","margin","maxWidth","padding","gatsby_browser_entry","to","color","textDecoration","Layout","Fragment","Helmet_default","title","site","siteMetadata","meta","name","content","lang","header","paddingTop","_755544856","node"],"mappings":"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","file":"component---src-pages-index-js-1a68fae4fec15d236047.js","sourcesContent":["import React, { Component } from 'react'\nimport MersenneTwister from 'mersenne-twister'\n\nconst GetColor = (idx) => {\n    const arr = [\"#FF0018\", \"#FFC73E\", \"#BFBFBF\",\n            \"#A267CA\", \"#00CDFB\", \"#00AD5B\"]\n    return arr[idx];\n}\nconst DisplayIndex = ({idx}) => {\n    const c = String.fromCharCode(idx + 65);\n    return (<span>{c}</span>)\n}\n\nclass Person extends Component {\n    constructor() {\n        super();\n    }\n    render() {\n        const sol = this.props.sol;\n        const idx = this.props.idx;\n        const stats = [0, 0, 0, 0];\n        const statsList = [];\n        if (sol) {\n            for (var i=0;i<sol.length;i++)\n                for (var j=0;j<sol[i].length;j++)\n                    if (sol[i][j] === idx)\n                        stats[j]++;\n            for (i=0;i<stats.length;i++)\n                statsList.push(<span key={i}>{stats[i]} </span>)\n        }\n        return (\n            <article className=\"media\">\n                <figure className=\"media-left\">\n                <p className=\"image is-64x64\">\n                <img src=\"https://bulma.io/images/placeholders/128x128.png\" />\n                </p>\n                </figure>\n                <div className=\"media-content\">\n                    <div className=\"content\">\n                    <div\n                        style={{\n                            backgroundColor: GetColor(idx),\n                            textAlign: \"center\"\n                        }}>\n                        <strong><DisplayIndex idx={idx} />.</strong>\n                    </div>\n                    <div>\n                        {statsList}\n                    </div>\n                    </div>\n                </div>\n            </article>\n        )\n    }\n}\n\nclass PeoplePanel extends Component {\n    constructor() {\n        super();\n    }\n    render() {\n        const seed = this.props.seed;\n        const sol = this.props.sol;\n        const N = this.props.N;\n        const plist = []\n        var i\n        for (i = 0; i < N; i++) {\n            plist.push((<Person key={i} idx={i} seed={seed} sol={sol} />))\n        }\n        return (<div>\n            {plist}\n        </div>)\n    }\n}\n\nconst DisplayYear = ({ year }) => (\n    <span>{year} 年</span>\n)\nconst DisplayMonth = ({ month }) => (\n    <span>{month+1} 月</span>\n)\nconst DisplayDay = ({ day }) => {\n    const arr = [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"]\n    return (<span>({arr[day]})</span>)\n}\n\nclass DatePanel extends Component {\n    render() {\n        const year = this.props.year;\n        const month = this.props.month;\n        const numOfDays = this.props.numOfDays;\n        const day = new Date(year, month, 1).getDay();\n        const sol = this.props.sol;\n        const body = []\n        var i, j\n        for (i = 1; i <= numOfDays; i++) {\n            var holder = []\n            if (sol && sol[i]) {\n                for (j=0;j<sol[i].length;j++)\n                    holder.push(\n                        <td key={j}\n                            style={{backgroundColor: GetColor(sol[i][j])}}>\n                            <DisplayIndex idx={sol[i][j]}/>\n                        </td>\n                    )\n            }\n            body.push(\n                <tr key={i}>\n                    <td style={{textAlign: \"center\"}}>{i} <DisplayDay day={(day+i-1)%7}/></td>\n                    {holder}\n                </tr>\n            )\n        }\n        const tableframe = (\n            <table className=\"table\">\n            <thead><tr>\n                <th>日</th>\n                <th>A區白班</th>\n                <th>A區晚班</th>\n                <th>C區白班</th>\n                <th>C區晚班</th>\n                </tr></thead>\n            <tbody>\n                {body}\n            </tbody>\n            </table>\n        )\n        return (<div>\n            {tableframe}\n        </div>)\n    }\n}\n\nclass PaiBan extends Component {\n    constructor() {\n        super();\n        const now = new Date();\n        var nextMonth;\n        nextMonth = new Date(now.getFullYear(), now.getMonth() + 1, 1);\n        const year = nextMonth.getFullYear();\n        const month = nextMonth.getMonth();\n        const numOfDays = new Date(year, month, 0).getDate();\n        this.state = {\n            seed: 0,\n            N: 6,\n            year: year,\n            month: month,\n            numOfDays: numOfDays,\n        }\n    }\n    updateN() {\n        const state = Object.assign({}, this.state)\n        state.N = parseInt(this.inputN.value)\n        this.setState(state);\n    }\n    updateSeed() {\n        const state = Object.assign({}, this.state)\n        state.seed = parseInt(this.inputSeed.value)\n        this.setState(state);\n    }\n    changeSeed() {\n        const state = Object.assign({}, this.state)\n        state.seed = parseInt(Math.floor(Math.random() * 65536))\n        state.isLoading = true;\n        this.setState(state);\n        setTimeout(this.buildSolution.bind(this), 10);\n    }\n    buildSolution() {\n        const state = Object({}, this.state)\n        state.isLoading = true;\n        this.setState(state);\n\n        var seekSolution = function() {\n\n            const rng = new MersenneTwister(this.state.seed)\n\n            const SPOTS_PER_DAY = 4;\n            var t = this.state.numOfDays;\n            var N = this.state.N;\n            var sol = [];\n            var i, k, tmp\n            var personDayCount = [];\n            var dayPersonMark = [];\n            for (i=0;i<N;i++) personDayCount.push([0,0,0,0])\n\n            var choices = [];\n            var blah = function(now) {\n                if (now.length == SPOTS_PER_DAY) {\n                    choices.push(now.slice());\n                    return;\n                }\n                for(var j=0;j<N;j++) {\n                    var bad=0;\n                    for(var k=0;k<now.length;k++)\n                    if(now[k] === j) bad=1;\n                    if(bad === 0) {\n                        now.push(j)\n                        blah(now)\n                        now.pop();\n                    }\n                }\n            };\n            blah([]);\n            for (i = 1; i < choices.length; i++) {\n                k = rng.random_int() % (i+1)\n                tmp = choices[i]\n                choices[i] = choices[k]\n                choices[k] = tmp\n            }\n\n            /* returns true if next can be appended to today. */\n            var canput = function(sol, t, N, pdc, dpm, today, next) {\n                // 夜班連白斑\n                if (next[0] === today[1] || next[0] === today[3] ||\n                    next[2] === today[1] || next[2] === today[3])\n                    return false;\n                // 總數量 不能超過總平均數 2 天.\n                for (var i=0;i<SPOTS_PER_DAY;i++) {\n                    if (pdc[next[i]][i] + 1 > t / N + 1)\n                        return false;\n                }\n                // 總班數 不能超過總平均數 2 天.\n                for (var i=0;i<SPOTS_PER_DAY;i++) {\n                    if (pdc[next[i]][0]+pdc[next[i]][1]+pdc[next[i]][2]+pdc[next[i]][3] > t*SPOTS_PER_DAY/N+1)\n                        return false;\n                }\n                // TODO: 連續 6 天\n                for (i=0;i<SPOTS_PER_DAY;i++) {\n                    var cnt=0;\n                    for (var j=Math.max(sol.length-6, 1);j<sol.length;j++)\n                        cnt += dpm[j][next[i]]\n                    if (cnt == 6)\n                        return false;\n                }\n                \n                // TODO: 放假\n                return true;\n            }\n\n            var addToPDC = function(pdc, next) {\n                for (var i=0;i<SPOTS_PER_DAY;i++)\n                    pdc[next[i]][i]++;\n            }\n            var removeFromPDC = function(pdc, next) {\n                for (var i=0;i<SPOTS_PER_DAY;i++)\n                    pdc[next[i]][i]--;\n            }\n            var makeDayPersonVector = function(next) {\n                var ret = [];\n                for (var i=0;i<N;i++) ret.push(0);\n                for (var i=0;i<SPOTS_PER_DAY;i++)\n                    if (next[i] >= 0)\n                        ret[next[i]] = 1;\n                return ret;\n            }\n\n            /* returns true if a solution is found. */\n            var timecut = 0;\n            var badtimecut = 0;\n            var dfs = function(today) {\n                var j;\n                sol.push(today);\n                dayPersonMark.push(makeDayPersonVector(today))\n                \n                timecut += 1;\n                if (timecut >= 200000) {\n                    badtimecut = 1;\n                    return true;\n                }\n                    \n\n                // 已經建立完畢!\n                if (sol.length === t+1) {\n                    return true;\n                }\n\n                for (var i = 0; i < choices.length; i++) {\n                    if (canput(sol, t, N, personDayCount,\n                            dayPersonMark, today, choices[i])) {\n                        addToPDC(personDayCount, choices[i]);\n                        if (dfs(choices[i])) {\n                            return true;\n                        }\n                        removeFromPDC(personDayCount, choices[i]);\n                    }\n                }\n                sol.pop();\n                dayPersonMark.pop();\n                return false;\n            }\n            dfs([-1,-1,-1,-1])\n            \n\n\n            const state = Object.assign({}, this.state)\n            if (badtimecut) {\n                state.msg = \"失敗了，請選另一個亂數種子！\"\n                state.sol = undefined\n                state.isLoading = undefined   \n            } else {\n                state.msg = undefined\n                state.sol = sol\n                state.isLoading = undefined\n            }\n            this.setState(state);\n        };\n\n        setTimeout(seekSolution.bind(this), 0);\n    }\n    render() {\n        return (\n            <div className=\"content\">\n            <div className=\"box\">\n                <div className=\"columns\">\n                <div className=\"column\">\n                <div className=\"field\">\n                <label className=\"label\">人數</label>\n                    <div className=\"control\">\n                        <input\n                            ref={(e)=>this.inputN=e}\n                            className=\"input\"\n                            value={this.state.N}\n                            onChange={this.updateN.bind(this)}\n                        />\n                    </div>\n                </div>\n                </div>\n                <div className=\"column\">\n                <div className=\"field is-6\">\n                <label className=\"label\">亂數種子</label>\n                    <div className=\"control\">\n                        <input\n                            ref={(e)=>this.inputSeed=e}\n                            className=\"input\"\n                            value={this.state.seed}\n                            onChange={this.updateSeed.bind(this)}\n                        />\n\n                    </div>\n                </div>\n                </div>\n                </div>\n                <div>\n                    <button\n                        className={\n                            \"button is-primary \" +\n                            (this.state.isLoading? \"is-loading\": \"\")\n                        }\n                        onClick={this.buildSolution.bind(this)}\n                    >建立班表</button>{\" \"}\n                    <button\n                        className={\n                            \"button is-info \" +\n                            (this.state.isLoading? \"is-loading\": \"\")\n                        }\n                        onClick={this.changeSeed.bind(this)}\n                    >換個種子</button>\n                    { this.state.msg &&\n                    (<span className=\"is-warning\">{this.state.msg}</span>)}\n                </div>\n                \n                \n            </div>\n            <div>排班就是我</div>\n            <div className=\"columns\">\n            <div className=\"column is-one-quarter\">\n            <PeoplePanel\n                ref={(e)=>this.peoplePanel=e}\n                seed={this.state.seed}\n                N={this.state.N}\n                sol={this.state.sol}\n                />\n            </div>\n            <div className=\"column\">\n            <h1 className=\"title\">\n                <DisplayYear year={this.state.year}/>{\" \"}\n                <DisplayMonth month={this.state.month}/>\n            </h1>\n            <DatePanel\n                year={this.state.year}\n                month={this.state.month}\n                numOfDays={this.state.numOfDays}\n                sol={this.state.sol}\n                />\n            </div>\n            </div>\n            </div>\n        )\n    }\n}\n\nexport default PaiBan","import React from 'react'\nimport { Link } from 'gatsby'\nimport 'bulma/css/bulma.css'\n\nimport Layout from '../components/layout'\nimport PaiBan from '../components/paiban'\n\nconst Rules = () => {\n  return (\n    <div className=\"content\">\n    <ul>\n      <li>加護病房兩區（A區和C區），白班（0700-1900）和夜班（1900-0700），總共六個人輪</li>\n      <li>星期一的個數盡量平均</li>\n      <li>不可以夜班連白班（會變成連續工作24小時）</li>\n      <li>盡量不跳區（像A白C白A白這種）</li>\n      <li>有的人會有一些要求，像是要某幾天不上班之類的</li>\n      <li>盡量不要卡一天或超過六天連上（會很累），班盡可能平均（每一種A區白夜班、C區白夜班）</li>\n      <li>就是會有人預約放假，一個人2-3天為限，盡量滿足</li>\n    </ul>\n    </div>\n  );\n}\n\nconst IndexPage = () => (\n  <Layout>\n    <h1>簡易排班程式</h1>\n    <Rules />\n    <PaiBan />\n  </Layout>\n)\n\nexport default IndexPage\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React from 'react'\nimport { Link } from 'gatsby'\n\nconst Header = ({ siteTitle }) => (\n  <div\n    style={{\n      background: 'rebeccapurple',\n      marginBottom: '1.45rem',\n    }}\n  >\n    <div\n      style={{\n        margin: '0 auto',\n        maxWidth: 960,\n        padding: '1.45rem 1.0875rem',\n      }}\n    >\n      <h1 style={{ margin: 0 }}>\n        <Link\n          to=\"/\"\n          style={{\n            color: 'white',\n            textDecoration: 'none',\n          }}\n        >\n          {siteTitle}\n        </Link>\n      </h1>\n    </div>\n  </div>\n)\n\nexport default Header\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Helmet from 'react-helmet'\nimport { StaticQuery, graphql } from 'gatsby'\n\nimport Header from './header'\nimport './layout.css'\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n    render={data => (\n      <>\n        <Helmet\n          title={data.site.siteMetadata.title}\n          meta={[\n            { name: 'description', content: 'Sample' },\n            { name: 'keywords', content: 'sample, something' },\n          ]}\n        >\n          <html lang=\"en\" />\n        </Helmet>\n        <Header siteTitle={data.site.siteMetadata.title} />\n        <div\n          style={{\n            margin: '0 auto',\n            maxWidth: 960,\n            padding: '0px 1.0875rem 1.45rem',\n            paddingTop: 0,\n          }}\n        >\n          {children}\n        </div>\n      </>\n    )}\n  />\n)\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n"],"sourceRoot":""}